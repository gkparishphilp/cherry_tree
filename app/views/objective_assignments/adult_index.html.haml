-# Used to show the objective asignments for a child to the Parent

.child_profile
	= render "children/sub_nav", :child => @child
	
	.top-header.clearfix
		%span.title
			Create objectives for 
			= @child.name.capitalize
			here.
		.new_thing.button_flat
			= link_to "+ Assign New Objective", "#", :class => 'open_new_objective_form'
			
	= form_for [ @child, ObjectiveAssignment.new ], :html => { :style => 'display:none;' } do |f|
		%b Objective Name:
		%br
		= f.text_field :objective_name, :class => 'title_field'
		%br
		%b Description:
		%br
		= f.text_field :description, :style => 'width:500px;'
		%br
		%b Points per Checkin:
		%br
		= f.text_field :point_value, :class => 'small'
		cherries
		%br
		= f.submit 'Enter', :class => 'button_flat'
		|
		= link_to 'Cancel', "#", :class => 'close_new_objective_form'
		
	- if @assignments.empty? && @requested_assignments.empty?
		%p
			Objectives are behaviors, thoughts, or habits that
			= @child.name.capitalize
			should be working on and reminded of daily.
		%p
			= @child.name.capitalize
			does not have any objectives yet.
			You can add an award from the list below, or create your own using the button above.
	- else
		.category{ :style => 'margin-top:20px;' }
			.float_left{ :style => 'width:50px;' }
				= image_tag 'awards/custom.jpg', :width => 40
			.float_left
				%h3 Assigned Objectives
			.clear
			.float_left{ :style => 'width:50px;'}
				&nbsp;
			.float_left{ :style => 'width:300px;'}
				%b Name
			.float_left{ :style => 'width:350px;'}
				%b Description
			.float_left{ :style => 'width:150px;'}
				%b Cherries
			.float_left{ :style => 'width:50px;'}
				&nbsp;
			.clear
			- for assignment in @assignments
				.float_left{ :style => 'width:50px;'}
					= check_box_tag "assign_objective", assignment.objective.id, true, :objective => assignment.objective.id, :class => 'assign_objective', :child => @child.id, :assignment => assignment.id

				.float_left{ :style => 'width:300px;'}
					= assignment.objective.name

				.float_left{ :style => 'width:350px;'}
					= text_area_tag :objective_description, assignment.description, :id => "objective_desc_#{assignment.objective.id}", :class => "objective_desc", :style => 'width:300px;', :child => @child.id, :assignment => assignment.id

				.float_left{ :style => 'width:150px;' }
					= text_field_tag :objective_points, assignment.point_value, :id => "objective_points_#{assignment.objective.id}", :class => "objective_points", :style => 'width:100px;', :child => @child.id, :assignment => assignment.id
				.clear

				.float_left{ :style => 'width:50px;'}
					= check_box_tag "req_conf_objective", assignment.objective.id, false, :objective => assignment.objective.id, :class => 'req_conf_objective', :child => @child.id, :assignment => assignment.id


		- unless @requested_assignments.empty?
			.category{ :style => 'margin-top:20px;' }
				.float_left{ :style => 'width:50px;' }
					= image_tag 'awards/custom.jpg', :width => 40
				.float_left
					%h3 Requested Objectives
				.clear
				.float_left{ :style => 'width:50px;'}
					&nbsp;
				.float_left{ :style => 'width:300px;'}
					%b Name
				.float_left{ :style => 'width:350px;'}
					%b Description
				.float_left{ :style => 'width:150px;'}
					%b Point Value
					(Cherries)
				.clear
			
				- for assignment in @requested_assignments
					.float_left{ :style => 'width:50px;'}
						= check_box_tag "assign_objective", assignment.objective.id, @child.active_assigned_objectives.include?( assignment.objective ), :objective => assignment.objective.id, :class => 'assign_objective', :child => @child.id, :assignment => assignment.id

					.float_left{ :style => 'width:300px;'}
						= assignment.objective.name

					.float_left{ :style => 'width:350px;'}
						= text_area_tag :objective_description, assignment.description, :id => "objective_desc_#{assignment.objective.id}", :class => "objective_desc", :style => 'width:300px;', :child => @child.id, :assignment => assignment.id

					.float_left{ :style => 'width:150px;' }
						= text_field_tag :objective_points, assignment.point_value, :id => "objective_points_#{assignment.objective.id}", :class => "objective_points", :style => 'width:100px;', :child => @child.id, :assignment => assignment.id
					.clear
				
	- unless @custom_objectives.empty?
		%h3 Custom Objectives
		- for objective in @custom_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
	
	- unless @academic_objectives.empty?
		%h3 Academic Objectives
		- for objective in @academic_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
			
	- unless @behavior_objectives.empty?
		%h3 Behavior Objectives
		- for objective in @behavior_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
			
	- unless @health_objectives.empty?
		%h3 Health Objectives
		- for objective in @health_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
			
	- unless @house_objectives.empty?
		%h3 Household Objectives
		- for objective in @house_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
			
	- unless @hygiene_objectives.empty?
		%h3 Hygiene Objectives
		- for objective in @hygiene_objectives
			.float_left{ :style => 'width:50px;'}
				= check_box_tag "assign_objective", objective.id, @child.active_assigned_objectives.include?( objective ), :objective => objective.id, :class => 'assign_objective', :child => @child.id
			.float_left{ :style => 'width:500px;' }
				= objective.name
			.clear
		


%br.clear
%br